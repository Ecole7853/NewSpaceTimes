(this["webpackJsonpreact-space-app"]=this["webpackJsonpreact-space-app"]||[]).push([[0],{56:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},79:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var s,c,r,a,i,o,l,j=n(2),u=n.n(j),d=n(32),m=n.n(d),b=(n(74),n(23)),O=(n(75),n(14)),h=n.n(O),p=n(26),x=n(31),g=n(16),y=n(116),v=n(21),w=n(110),f=Object(w.a)(s||(s=Object(v.a)(["\n  mutation addUser($name: String!, $email: String!, $password: String!) {\n    addUser(name: $name, email: $email, password: $password) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"]))),N=Object(w.a)(c||(c=Object(v.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"]))),S=(Object(w.a)(r||(r=Object(v.a)(["\n  mutation removeUser($name: String!) {\n    removeUser(name: $name) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"]))),Object(w.a)(a||(a=Object(v.a)(["\nmutation addPhoto($photo: String!) {\n    addPhoto(photo: $photo) {\n        _id\n        name\n        photos\n      }\n    }\n    "])))),k=Object(w.a)(i||(i=Object(v.a)(["\nmutation deletePhoto($photo: String!) {\n    deletePhoto(photo: $photo) {\n        _id\n        name\n        photos\n      }\n    }\n    "]))),q=(Object(w.a)(o||(o=Object(v.a)(["\nmutation addPref($userId: ID!, $pref: String!) {\n    addPref(userId: $userId, pref: $pref) {\n        _id\n        name\n        preferences\n      }\n    }\n    "]))),Object(w.a)(l||(l=Object(v.a)(["\nmutation deletePref($pref: String!) {\n    deletePref(pref: $pref) {\n        _id\n        name\n        preferences\n      }\n    }\n    "]))),n(57)),L=n(58),T=n(46),_=n.n(T),H=new(function(){function e(){Object(q.a)(this,e)}return Object(L.a)(e,[{key:"getProfile",value:function(){return _()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return _()(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),M=n(109),D=(n(79),n(9)),P=n(18),U=n(0),C=function(e){var t=Object(j.useState)({email:"",password:""}),n=Object(g.a)(t,2),s=n[0],c=n[1],r=Object(y.a)(N),a=Object(g.a)(r,2),i=a[0],o=a[1],l=o.error,u=o.data,d=Object(j.useState)(!1),m=Object(g.a)(d,2),O=m[0],v=m[1],w=function(e){var t=e.target,n=t.name,r=t.value;c(Object(b.a)(Object(b.a)({},s),{},Object(x.a)({},n,r)))},f=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,i({variables:Object(b.a)({},s)});case 4:n=e.sent,r=n.data,H.login(r.login.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),v(!0);case 12:c({email:"",password:""});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{id:"frontContainer",children:[H.loggedIn()?Object(U.jsx)(D.a,{to:"/newsboard"}):null,Object(U.jsx)("div",{id:"frontImage",children:Object(U.jsxs)("div",{id:"frontSpacingContainer",children:[Object(U.jsxs)("div",{id:"frontRowOne",children:[u?Object(U.jsx)(D.a,{to:"/newsboard"}):Object(U.jsxs)("div",{id:"frontLogin",children:[Object(U.jsxs)("div",{id:"frontNameContainer",children:[Object(U.jsx)("p",{children:"Please Enter Email"}),Object(U.jsx)("input",{type:"email",id:"frontName",name:"email",value:s.email,onChange:w,required:!0,minLength:"8",maxLength:"16"})]}),Object(U.jsxs)("div",{id:"frontPwContainer",children:[Object(U.jsx)("p",{children:"Please Enter Password"}),Object(U.jsx)("input",{type:"password",id:"frontPw",name:"password",value:s.password,onChange:w,required:!0,minLength:"8",maxLength:"16"})]}),Object(U.jsxs)("div",{id:"buttons",children:[Object(U.jsx)("button",{id:"frontSubmit",onClick:f,children:"Enter"}),Object(U.jsx)(P.b,{to:"/signup",children:Object(U.jsx)("button",{id:"frontSignButton",children:"Sign Up"})})]})]}),l&&Object(U.jsx)(M.a,{dismissible:!0,onClose:function(){return v(!1)},show:O,variant:"danger",children:l.message})]}),Object(U.jsx)("div",{id:"frontRowTwo"}),Object(U.jsx)("div",{id:"frontRowThree"})]})})]})})};n(87);var I=function(){return Object(U.jsx)("div",{className:"navContainer",children:Object(U.jsxs)("ul",{className:"nav",children:[Object(U.jsx)("li",{className:"nav-link",children:Object(U.jsx)(P.b,{to:"/profile",children:"Profile"})}),Object(U.jsx)("li",{className:"nav-link",children:Object(U.jsx)(P.b,{to:"/newsboard",children:"News"})}),Object(U.jsx)("li",{className:"nav-link",children:Object(U.jsx)(P.b,{onClick:function(e){e.preventDefault(),H.logout()},to:"/",children:"Logout"})})]})})};n(88);var $,E,B,F=function(){return Object(U.jsxs)("footer",{className:"bg-light text-center text-black",children:[Object(U.jsx)("div",{className:"container p-4 pb-0"}),Object(U.jsx)("div",{className:"text-center p-3 copyRight",children:"\xa9 2021 New Space Times"})]})},z=(n(89),n(105)),R=n(106),A=n(114),Q=n(107),K=(Object(w.a)($||($=Object(v.a)(["\n  query Users {\n    users {\n      _id\n      name\n      photos\n      preferences\n    }\n  }\n"]))),Object(w.a)(E||(E=Object(v.a)(["\n    query User($_id: ID!) {\n        user(_id: $_id) {\n        _id\n        name\n        photos\n        preferences\n        }\n    }\n"])))),X=Object(w.a)(B||(B=Object(v.a)(["\n  query me {\n    me {\n      _id\n      name\n      photos\n      preferences\n    }\n  }\n"]))),J=n(113);var Z=function(){var e=Object(D.f)()._id,t=Object(J.a)(e?K:X,{variables:{_id:e}}).data,n=(null===t||void 0===t?void 0:t.me)||(null===t||void 0===t?void 0:t.userData)||[],s=Object.keys(n).length,c=Object(y.a)(k),r=Object(g.a)(c,1)[0],a=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H.loggedIn()?H.getToken():null){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,r({variables:{photo:t}});case 6:n=e.sent,s=n.data,console.log("data:",s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return s?Object(U.jsxs)("div",{children:[H.loggedIn()?null:Object(U.jsx)(D.a,{to:"/"}),Object(U.jsx)(I,{}),Object(U.jsx)("div",{className:"profileBackground",children:Object(U.jsxs)(z.a,{children:[Object(U.jsx)("h2",{className:"text-white",children:n.photos.length?"Viewing ".concat(n.photos.length," saved ").concat(1===n.photos.length?"photo":"photos",":"):"You have no saved photos!"}),Object(U.jsx)(R.a,{children:n.photos.map((function(e){return Object(U.jsxs)(A.a,{border:"dark",children:[Object(U.jsx)(A.a.Img,{src:e,alt:"Daily Photo",variant:"top"}),Object(U.jsx)(A.a.Body,{children:Object(U.jsx)(Q.a,{className:"btn-block btn-danger",onClick:function(){return a(e)},children:"Delete this Photo!"})})]},e)}))})]})}),Object(U.jsx)(F,{})]}):Object(U.jsx)("h2",{children:"LOADING..."})},G=(n(90),function(e){var t=Object(j.useState)({name:"",email:"",password:""}),n=Object(g.a)(t,2),s=n[0],c=n[1],r=Object(j.useState)(!1),a=Object(g.a)(r,2),i=a[0],o=a[1],l=Object(y.a)(f),u=Object(g.a)(l,1)[0],d=function(e){var t=e.target,n=t.name,r=t.value;c(Object(b.a)(Object(b.a)({},s),{},Object(x.a)({},n,r)))},m=function(){var e=Object(p.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,u({variables:Object(b.a)({},s)});case 4:n=e.sent,r=n.data,H.login(r.addUser.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o(!0);case 12:c({name:"",email:"",password:""});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)("div",{id:"SignUp",children:Object(U.jsxs)("div",{id:"SignUpInput",children:[Object(U.jsxs)("div",{id:"signUpNameContainer",children:[Object(U.jsx)("p",{children:"Please Enter Name"}),Object(U.jsx)("input",{type:"input",id:"signUpName",name:"name",value:s.name,onChange:d,required:!0,minLength:"3",maxLength:"32"})]}),Object(U.jsxs)("div",{id:"signUpEmailContainer",children:[Object(U.jsx)("p",{children:"Please Enter Email"}),Object(U.jsx)("input",{type:"email",id:"signUpEmail",name:"email",value:s.email,onChange:d,required:!0,minLength:"8",maxLength:"32"})]}),Object(U.jsxs)("div",{id:"signUpPwContainer",children:[Object(U.jsx)("p",{children:"Please Enter Password"}),Object(U.jsx)("input",{type:"password",id:"signUpPw",name:"password",value:s.password,onChange:d,required:!0,minLength:"8",maxLength:"16"})]}),Object(U.jsx)("div",{id:"signUpButton",children:Object(U.jsx)(P.b,{children:Object(U.jsx)("button",{disabled:!(s.name&&s.email&&s.password),onClick:m,children:"Sign Up"})})}),Object(U.jsx)(M.a,{dismissible:!0,onClose:function(){return o(!1)},show:i,variant:"danger",children:"Something went wrong with your Signup!"})]})})})}),V=(n(91),n(55)),Y=(n(56),n(55));function W(e){e.userId;var t=Object(j.useState)({}),n=Object(g.a)(t,2),s=n[0],c=n[1],r=Object(y.a)(S),a=Object(g.a)(r,1)[0];Object(j.useEffect)((function(){i()}),[]);var i=function(){var e=Object(p.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y("https://api.nasa.gov/planetary/apod?api_key=94jx5aj4QNfyedbpPQ5m3UkzkknBz4yKIZpynDay");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,c(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a({variables:{photo:s.hdurl}});case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return V("https://api.nasa.gov/planetary/apod?api_key=94jx5aj4QNfyedbpPQ5m3UkzkknBz4yKIZpynDay").then((function(e){return e.json()})).then((function(e){console.log(e),document.querySelector(".daily-photo").src=e.url})),Object(U.jsx)("div",{children:Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("h2",{children:"NASA Photo of the Day"}),Object(U.jsx)("img",{className:"daily-photo",alt:"POTD - Space API Call",src:""}),Object(U.jsx)("p",{children:"Save this photo to your profile!"}),Object(U.jsx)("button",{onClick:o,className:"btn btn-primary",children:"Save"})]})})}function ee(){return V("https://api.spacexdata.com/v4/launches/latest").then((function(e){return e.json()})).then((function(e){console.log(e),document.querySelector(".spaceX-news").innerHTML=e.details})),Object(U.jsx)("div",{children:Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("h2",{children:"Lastest SpaceX News"}),Object(U.jsx)("p",{className:"spaceX-news"})]})})}function te(){return V("https://api.wheretheiss.at/v1/satellites/25544").then((function(e){return e.json()})).then((function(e){console.log(e),document.querySelector(".space-lat").innerHTML=e.latitude,document.querySelector(".space-long").innerHTML=e.longitude})),Object(U.jsx)("div",{className:"newsDiv issDiv",children:Object(U.jsxs)("div",{className:"space-station",children:[Object(U.jsx)("h2",{children:"International Space Station Location"}),Object(U.jsxs)("div",{className:"iss-location",children:[Object(U.jsxs)("p",{children:["Latitude:",Object(U.jsx)("span",{className:"space-lat"})]}),Object(U.jsxs)("p",{children:["Longitude:",Object(U.jsx)("span",{className:"space-long"})]})]})]})})}function ne(){return V("https://api.spaceflightnewsapi.net/v3/articles?title_contains=space").then((function(e){return e.json()})).then((function(e){console.log(e),document.querySelector(".news-img0").src=e[0].imageUrl,document.querySelector(".title0").innerHTML=e[0].title,document.querySelector(".summary0").innerHTML=e[0].summary,document.querySelector(".news-story0").href=e[0].url,document.querySelector(".news-story-link0").innerHTML=e[0].url,document.querySelector(".news-img1").src=e[1].imageUrl,document.querySelector(".title1").innerHTML=e[2].title,document.querySelector(".summary1").innerHTML=e[2].summary,document.querySelector(".news-story1").href=e[2].url,document.querySelector(".news-story-link1").innerHTML=e[2].url,document.querySelector(".news-img2").src=e[3].imageUrl,document.querySelector(".title2").innerHTML=e[3].title,document.querySelector(".summary2").innerHTML=e[3].summary,document.querySelector(".news-story2").href=e[3].url,document.querySelector(".news-story-link2").innerHTML=e[3].url,document.querySelector(".news-img3").src=e[4].imageUrl,document.querySelector(".title3").innerHTML=e[4].title,document.querySelector(".summary3").innerHTML=e[4].summary,document.querySelector(".news-story3").href=e[4].url,document.querySelector(".news-story-link3").innerHTML=e[4].url,document.querySelector(".news-img4").src=e[5].imageUrl,document.querySelector(".title4").innerHTML=e[5].title,document.querySelector(".summary4").innerHTML=e[5].summary,document.querySelector(".news-story5").href=e[5].url,document.querySelector(".news-story-link5").innerHTML=e[5].url,document.querySelector(".news-img6").src=e[6].imageUrl,document.querySelector(".title6").innerHTML=e[6].title,document.querySelector(".summary6").innerHTML=e[6].summary,document.querySelector(".news-story6").href=e[6].url,document.querySelector(".news-story-link6").innerHTML=e[6].url,document.querySelector(".news-img7").src=e[7].imageUrl,document.querySelector(".title7").innerHTML=e[7].title,document.querySelector(".summary7").innerHTML=e[7].summary,document.querySelector(".news-story7").href=e[7].url,document.querySelector(".news-story-link7").innerHTML=e[7].url,document.querySelector(".news-img8").src=e[8].imageUrl,document.querySelector(".title8").innerHTML=e[8].title,document.querySelector(".summary8").innerHTML=e[8].summary,document.querySelector(".news-story8").href=e[8].url,document.querySelector(".news-story-link8").innerHTML=e[8].url,document.querySelector(".news-img9").src=e[9].imageUrl,document.querySelector(".title9").innerHTML=e[9].title,document.querySelector(".summary9").innerHTML=e[9].summary,document.querySelector(".news-story9").href=e[9].url,document.querySelector(".news-story-link9").innerHTML=e[9].url})),Object(U.jsxs)("div",{className:"top-space-news",children:[Object(U.jsx)("h2",{children:"Top News Stories"}),Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("p",{className:"title0"}),Object(U.jsx)("img",{className:"news-img0"}),Object(U.jsx)("p",{className:"summary0"}),Object(U.jsx)("a",{className:"news-story0",target:"_blank",children:Object(U.jsx)("p",{className:"news-story-link0"})})]}),Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("p",{className:"title1"}),Object(U.jsx)("img",{className:"news-img1"}),Object(U.jsx)("p",{className:"summary1"}),Object(U.jsx)("a",{className:"news-story1",target:"_blank",children:Object(U.jsx)("p",{className:"news-story-link1"})})]}),Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("p",{className:"title2"}),Object(U.jsx)("img",{className:"news-img2"}),Object(U.jsx)("p",{className:"summary2"}),Object(U.jsx)("a",{className:"news-story2",target:"_blank",children:Object(U.jsx)("p",{className:"news-story-link2"})})]}),Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("p",{className:"title3"}),Object(U.jsx)("img",{className:"news-img3"}),Object(U.jsx)("p",{className:"summary3"}),Object(U.jsx)("a",{className:"news-story3",target:"_blank",children:Object(U.jsx)("p",{className:"news-story-link3"})})]}),Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("p",{className:"title4"}),Object(U.jsx)("img",{className:"news-img4"}),Object(U.jsx)("p",{className:"summary4"}),Object(U.jsx)("a",{className:"news-story4",target:"_blank",children:Object(U.jsx)("p",{className:"news-story-link4"})})]}),Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("p",{className:"title5"}),Object(U.jsx)("img",{className:"news-img5"}),Object(U.jsx)("p",{className:"summary5"}),Object(U.jsx)("a",{className:"news-story5",target:"_blank",children:Object(U.jsx)("p",{className:"news-story-link5"})})]}),Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("p",{className:"title6"}),Object(U.jsx)("img",{className:"news-img6"}),Object(U.jsx)("p",{className:"summary6"}),Object(U.jsx)("a",{className:"news-story6",target:"_blank",children:Object(U.jsx)("p",{className:"news-story-link6"})})]}),Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("p",{className:"title7"}),Object(U.jsx)("img",{className:"news-img7"}),Object(U.jsx)("p",{className:"summary7"}),Object(U.jsx)("a",{className:"news-story7",target:"_blank",children:Object(U.jsx)("p",{className:"news-story-link7"})})]}),Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("p",{className:"title8"}),Object(U.jsx)("img",{className:"news-img8"}),Object(U.jsx)("p",{className:"summary8"}),Object(U.jsx)("a",{className:"news-story8",target:"_blank",children:Object(U.jsx)("p",{className:"news-story-link8"})})]}),Object(U.jsxs)("div",{className:"newsDiv",children:[Object(U.jsx)("p",{className:"title9"}),Object(U.jsx)("img",{className:"news-img9"}),Object(U.jsx)("p",{className:"summary9"}),Object(U.jsx)("a",{className:"news-story9",target:"_blank",children:Object(U.jsx)("p",{className:"news-story-link9"})})]})]})}var se=function(e){return Object(U.jsxs)("div",{id:"newsBoardContainer",children:[H.loggedIn()?null:Object(U.jsx)(D.a,{to:"/"}),Object(U.jsx)(I,{}),Object(U.jsx)(te,{}),Object(U.jsxs)("div",{className:"p2background",children:[Object(U.jsxs)("div",{children:[Object(U.jsx)("div",{className:"col",children:Object(U.jsx)(W,{})}),Object(U.jsx)("div",{className:"col",children:Object(U.jsx)(ee,{})})]}),Object(U.jsx)("div",{className:"col",children:Object(U.jsx)(ne,{})})]})]})},ce=n(65),re=n(111),ae=n(112),ie=n(108),oe=n(64);n(92);var le=function(){return Object(U.jsx)("header",{className:"navbar-light bg-header",children:Object(U.jsx)("div",{className:"row",children:Object(U.jsx)("div",{id:"navbar",className:"navbar-brand col",children:Object(U.jsx)("h1",{id:"headerH1",children:"New Space Times"})})})})},je=Object(ce.a)({uri:"/graphql"}),ue=Object(oe.a)((function(e,t){var n=t.headers,s=localStorage.getItem("id_token");return console.log("TOKEN HERE:".concat(s)),{headers:Object(b.a)(Object(b.a)({},n),{},{authorization:s?"Bearer ".concat(s):""})}})),de=new re.a({link:ue.concat(je),cache:new ae.a});var me=function(){return Object(U.jsx)(ie.a,{client:de,children:Object(U.jsx)(P.a,{basename:"react-space-app",children:Object(U.jsxs)("div",{id:"headerContainer",children:[Object(U.jsx)(le,{}),Object(U.jsxs)("div",{children:[Object(U.jsx)(D.b,{exact:!0,path:"/",children:Object(U.jsx)(C,{})}),Object(U.jsx)(D.b,{exact:!0,path:"/signup",children:Object(U.jsx)(G,{})}),Object(U.jsx)(D.b,{exact:!0,path:"/newsboard",children:Object(U.jsx)(se,{})}),Object(U.jsx)(D.b,{exact:!0,path:"/profile",children:Object(U.jsx)(Z,{})})]})]})})})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,117)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),r(e),a(e)}))};n(93);m.a.render(Object(U.jsx)(u.a.StrictMode,{children:Object(U.jsx)(me,{})}),document.getElementById("root")),be()}},[[94,1,2]]]);
//# sourceMappingURL=main.6d075069.chunk.js.map