(this["webpackJsonpreact-space-app"]=this["webpackJsonpreact-space-app"]||[]).push([[0],{43:function(e,n,t){},44:function(e,n,t){},48:function(e,n,t){},51:function(e,n){},52:function(e,n,t){},54:function(e,n,t){"use strict";t.r(n);var i,r,a,o,c,s,d,u=t(4),j=t.n(u),l=t(31),p=t.n(l),b=(t(43),t(18)),g=t(13),m=(t(44),t(24)),h=t.n(m),O=t(32),f=t(20),v=t(71),x=t(11),w=t(69),k=(Object(w.a)(i||(i=Object(x.a)(["\n  mutation addUser($name: String!, $email: String!, $password: String!) {\n    addUser(name: $name, email: $email, password: $password) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"]))),Object(w.a)(r||(r=Object(x.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"])))),S=(Object(w.a)(a||(a=Object(x.a)(["\n  mutation removeUser($name: String!) {\n    removeUser(name: $name) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"]))),Object(w.a)(o||(o=Object(x.a)(["\nmutation addPhoto($userId: ID!, $photo: String!) {\n    addPhoto(userId: $userId, photo: $photo) {\n        _id\n        name\n        photos\n      }\n    }\n    "]))),Object(w.a)(c||(c=Object(x.a)(["\nmutation deletePhoto($photo: String!) {\n    deletePhoto(photo: $photo) {\n        _id\n        name\n        photos\n      }\n    }\n    "]))),Object(w.a)(s||(s=Object(x.a)(["\nmutation addPref($userId: ID!, $pref: String!) {\n    addPref(userId: $userId, pref: $pref) {\n        _id\n        name\n        preferences\n      }\n    }\n    "]))),Object(w.a)(d||(d=Object(x.a)(["\nmutation deletePref($pref: String!) {\n    deletePref(pref: $pref) {\n        _id\n        name\n        preferences\n      }\n    }\n    "]))),t(33)),$=t(34),P=t(25),I=t.n(P),C=new(function(){function e(){Object(S.a)(this,e)}return Object($.a)(e,[{key:"getProfile",value:function(){return I()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return I()(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}catch(n){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),U=(t(48),t(2)),y=function(){var e=Object(u.useState)({email:"",password:""}),n=Object(b.a)(e,2),t=n[0],i=n[1],r=Object(v.a)(k),a=Object(b.a)(r,1)[0],o=function(e){var n=e.target,r=n.name,a=n.value;i(Object(g.a)(Object(g.a)({},t),{},Object(f.a)({},r,a)))},c=function(){var e=Object(O.a)(h.a.mark((function e(n){var r,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),!1===n.currentTarget.checkValidity()&&(n.preventDefault(),n.stopPropagation()),e.prev=3,e.next=6,a({variables:Object(g.a)({},t)});case 6:r=e.sent,o=r.data,C.login(o.login.token),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:i({email:"",password:""});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)("div",{id:"frontContainer",children:Object(U.jsx)("div",{id:"frontImage",children:Object(U.jsxs)("div",{id:"frontSpacingContainer",children:[Object(U.jsx)("div",{id:"frontRowOne",children:Object(U.jsxs)("div",{id:"frontLogin",children:[Object(U.jsxs)("div",{id:"frontNameContainer",children:[Object(U.jsx)("p",{children:"Please Enter Email"}),Object(U.jsx)("input",{type:"email",id:"frontName",name:"email",value:t.email,onChange:o,required:!0,minLength:"8",maxLength:"16"})]}),Object(U.jsxs)("div",{id:"frontPwContainer",children:[Object(U.jsx)("p",{children:"Please Enter Password"}),Object(U.jsx)("input",{type:"password",id:"frontPw",name:"password",value:t.password,onChange:o,required:!0,minLength:"8",maxLength:"16"})]}),Object(U.jsx)("button",{id:"frontSubmit",onClick:c,children:"Enter"}),Object(U.jsx)("button",{id:"frontSignButton",children:"Sign Up"})]})}),Object(U.jsx)("div",{id:"frontRowTwo"}),Object(U.jsx)("div",{id:"frontRowThree"})]})})})})};t(51),t(52);var E=function(e){return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)("div",{id:"SignUp",children:Object(U.jsxs)("div",{id:"SignUpInput",children:[Object(U.jsxs)("div",{id:"signUpEmailContainer",children:[Object(U.jsx)("p",{children:"Please Enter Email"}),Object(U.jsx)("input",{type:"input",id:"signUpEmail",name:"email",required:!0,minlength:"8",maxlength:"32"})]}),Object(U.jsxs)("div",{id:"signUpPwContainer",children:[Object(U.jsx)("p",{children:"Please Enter Password"}),Object(U.jsx)("input",{type:"input",id:"signUpPw",name:"password",required:!0,minlength:"8",maxlength:"16"})]}),Object(U.jsx)("div",{id:"signUpButton",children:Object(U.jsx)("button",{onClick:function(){return e.pageChanger("SignUp")},children:"Sign Up"})})]})})})},_=t(38),T=t(68),L=t(70),D=t(67),F=t(37),q=Object(_.a)({uri:"/graphql"}),B=Object(F.a)((function(e,n){var t=n.headers,i=localStorage.getItem("id_token");return{headers:Object(g.a)(Object(g.a)({},t),{},{authorization:i?"Bearer ".concat(i):""})}})),R=new T.a({link:B.concat(q),cache:new L.a});var H=function(){var e=Object(u.useState)("Home"),n=Object(b.a)(e,2),t=n[0],i=n[1],r=function(e){return i(e)};return Object(U.jsx)(D.a,{client:R,children:Object(U.jsx)("div",{children:"Home"===t?Object(U.jsx)(y,{pageChanger:r}):"SignUp"===t?Object(U.jsx)(E,{}):void 0})})},J=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,73)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,a=n.getLCP,o=n.getTTFB;t(e),i(e),r(e),a(e),o(e)}))};t(53);p.a.render(Object(U.jsx)(j.a.StrictMode,{children:Object(U.jsx)(H,{})}),document.getElementById("root")),J()}},[[54,1,2]]]);
//# sourceMappingURL=main.d56a2478.chunk.js.map