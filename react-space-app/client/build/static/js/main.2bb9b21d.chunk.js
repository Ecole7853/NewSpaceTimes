(this["webpackJsonpreact-space-app"]=this["webpackJsonpreact-space-app"]||[]).push([[0],{62:function(e,n,t){},63:function(e,n,t){},67:function(e,n,t){},75:function(e,n,t){},76:function(e,n,t){},77:function(e,n,t){},78:function(e,n,t){},79:function(e,n,t){},80:function(e,n,t){},81:function(e,n,t){t(82)},83:function(e,n,t){},85:function(e,n,t){"use strict";t.r(n);var a,i,r,c,s,o,d,j=t(1),l=t.n(j),u=t(25),b=t.n(u),p=(t(62),t(14)),h=(t(63),t(26)),O=t.n(h),m=t(32),g=t(24),x=t(21),f=t(104),v=t(22),w=t(102),k=Object(w.a)(a||(a=Object(v.a)(["\n  mutation addUser($name: String!, $email: String!, $password: String!) {\n    addUser(name: $name, email: $email, password: $password) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"]))),S=Object(w.a)(i||(i=Object(v.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"]))),P=(Object(w.a)(r||(r=Object(v.a)(["\n  mutation removeUser($name: String!) {\n    removeUser(name: $name) {\n      token\n      user {\n        _id\n        name\n      }\n    }\n  }\n"]))),Object(w.a)(c||(c=Object(v.a)(["\nmutation addPhoto($userId: ID!, $photo: String!) {\n    addPhoto(userId: $userId, photo: $photo) {\n        _id\n        name\n        photos\n      }\n    }\n    "]))),Object(w.a)(s||(s=Object(v.a)(["\nmutation deletePhoto($photo: String!) {\n    deletePhoto(photo: $photo) {\n        _id\n        name\n        photos\n      }\n    }\n    "]))),Object(w.a)(o||(o=Object(v.a)(["\nmutation addPref($userId: ID!, $pref: String!) {\n    addPref(userId: $userId, pref: $pref) {\n        _id\n        name\n        preferences\n      }\n    }\n    "]))),Object(w.a)(d||(d=Object(v.a)(["\nmutation deletePref($pref: String!) {\n    deletePref(pref: $pref) {\n        _id\n        name\n        preferences\n      }\n    }\n    "]))),t(47)),$=t(48),y=t(39),C=t.n(y),I=new(function(){function e(){Object(P.a)(this,e)}return Object($.a)(e,[{key:"getProfile",value:function(){return C()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return C()(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}catch(n){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),U=t(100),N=(t(67),t(20)),E=t(2),L=function(e){var n=Object(j.useState)({email:"",password:""}),t=Object(x.a)(n,2),a=t[0],i=t[1],r=Object(f.a)(S),c=Object(x.a)(r,1)[0],s=Object(j.useState)(!1),o=Object(x.a)(s,2),d=o[0],l=o[1],u=function(e){var n=e.target,t=n.name,r=n.value;i(Object(p.a)(Object(p.a)({},a),{},Object(g.a)({},t,r)))},b=function(){var e=Object(m.a)(O.a.mark((function e(n){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),!1===n.currentTarget.checkValidity()&&(n.preventDefault(),n.stopPropagation()),e.prev=3,e.next=6,c({variables:Object(p.a)({},a)});case 6:t=e.sent,r=t.data,I.login(r.login.token),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),l(!0);case 14:i({email:"",password:""});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{id:"frontContainer",children:Object(E.jsx)("div",{id:"frontImage",children:Object(E.jsxs)("div",{id:"frontSpacingContainer",children:[Object(E.jsxs)("div",{id:"frontRowOne",children:[Object(E.jsxs)("div",{id:"frontLogin",children:[Object(E.jsxs)("div",{id:"frontNameContainer",children:[Object(E.jsx)("p",{children:"Please Enter Email"}),Object(E.jsx)("input",{type:"email",id:"frontName",name:"email",value:a.email,onChange:u,required:!0,minLength:"8",maxLength:"16"})]}),Object(E.jsxs)("div",{id:"frontPwContainer",children:[Object(E.jsx)("p",{children:"Please Enter Password"}),Object(E.jsx)("input",{type:"password",id:"frontPw",name:"password",value:a.password,onChange:u,required:!0,minLength:"8",maxLength:"16"})]}),Object(E.jsxs)("div",{id:"buttons",children:[Object(E.jsx)("button",{id:"frontSubmit",onClick:b,children:"Enter"}),Object(E.jsx)(N.b,{to:"/signup",children:Object(E.jsx)("button",{id:"frontSignButton",children:"Sign Up"})})]})]}),Object(E.jsx)(U.a,{dismissible:!0,onClose:function(){return l(!1)},show:d,variant:"danger",children:"Invalid Username/Password please try again!"})]}),Object(E.jsx)("div",{id:"frontRowTwo"}),Object(E.jsx)("div",{id:"frontRowThree"})]})})})})};t(75),t(76);var T=function(){return Object(E.jsx)("header",{className:" navbar-light bg-header",children:Object(E.jsx)("div",{className:"row",children:Object(E.jsx)("div",{className:"navbar-brand col",children:Object(E.jsx)("h1",{children:"Space News"})})})})};t(77);var _=function(){return Object(E.jsxs)("footer",{className:"bg-light text-center text-black",children:[Object(E.jsx)("div",{className:"container p-4 pb-0"}),Object(E.jsx)("div",{className:"text-center p-3 copyRight",children:"\xa9 2021 Add Team Name"})]})};t(78);t(79);var D=function(e){var n=Object(j.useState)({name:"",email:"",password:""}),t=Object(x.a)(n,2),a=t[0],i=t[1],r=Object(j.useState)(!1),c=Object(x.a)(r,2),s=c[0],o=c[1],d=Object(f.a)(k),l=Object(x.a)(d,1)[0],u=function(e){var n=e.target,t=n.name,r=n.value;i(Object(p.a)(Object(p.a)({},a),{},Object(g.a)({},t,r)))},b=function(){var e=Object(m.a)(O.a.mark((function e(n){var t,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),!1===n.currentTarget.checkValidity()&&(n.preventDefault(),n.stopPropagation()),e.prev=3,e.next=6,l({variables:Object(p.a)({},a)});case 6:t=e.sent,r=t.data,I.login(r.addUser.token),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),o(!0);case 14:i({name:"",email:"",password:""});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{id:"SignUp",children:[Object(E.jsxs)("div",{id:"SignUpInput",children:[Object(E.jsxs)("div",{id:"signUpNameContainer",children:[Object(E.jsx)("p",{children:"Please Enter Name"}),Object(E.jsx)("input",{type:"input",id:"signUpName",name:"name",value:a.name,onChange:u,required:!0,minLength:"3",maxLength:"32"})]}),Object(E.jsxs)("div",{id:"signUpEmailContainer",children:[Object(E.jsx)("p",{children:"Please Enter Email"}),Object(E.jsx)("input",{type:"email",id:"signUpEmail",name:"email",value:a.email,onChange:u,required:!0,minLength:"8",maxLength:"32"})]}),Object(E.jsxs)("div",{id:"signUpPwContainer",children:[Object(E.jsx)("p",{children:"Please Enter Password"}),Object(E.jsx)("input",{type:"password",id:"signUpPw",name:"password",value:a.password,onChange:u,required:!0,minLength:"8",maxLength:"16"})]}),Object(E.jsx)("div",{id:"signUpButton",children:Object(E.jsx)("button",{disabled:!(a.name&&a.email&&a.password),onClick:b,children:"Sign Up"})})]}),Object(E.jsx)(U.a,{dismissible:!0,onClose:function(){return o(!1)},show:s,variant:"danger",children:"Something went wrong with your signup!"})]})})};t(80),t(81),t(83);function q(){return Object(E.jsx)("div",{children:Object(E.jsx)("img",{className:"daily-photo",alt:"POTD - Space API Call"})})}var F=function(){return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"p2background",children:Object(E.jsx)(q,{})}),Object(E.jsx)(_,{})]})},B=t(55),R=t(101),A=t(103),J=t(99),V=t(54),z=t(7),M=Object(B.a)({uri:"/graphql"}),G=Object(V.a)((function(e,n){var t=n.headers,a=localStorage.getItem("id_token");return{headers:Object(p.a)(Object(p.a)({},t),{},{authorization:a?"Bearer ".concat(a):""})}})),H=new R.a({link:G.concat(M),cache:new A.a});var K=function(){return Object(E.jsx)(J.a,{client:H,children:Object(E.jsx)(N.a,{basename:"react-space-app",children:Object(E.jsxs)("div",{children:[Object(E.jsx)(T,{}),Object(E.jsxs)("div",{children:[Object(E.jsx)(z.a,{exact:!0,path:"/",children:Object(E.jsx)(L,{})}),Object(E.jsx)(z.a,{exact:!0,path:"/signup",children:Object(E.jsx)(D,{})}),Object(E.jsx)(z.a,{exact:!0,path:"/newsboard",children:Object(E.jsx)(F,{})})]})]})})})},Q=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,106)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,r=n.getLCP,c=n.getTTFB;t(e),a(e),i(e),r(e),c(e)}))};t(84);b.a.render(Object(E.jsx)(l.a.StrictMode,{children:Object(E.jsx)(K,{})}),document.getElementById("root")),Q()}},[[85,1,2]]]);
//# sourceMappingURL=main.2bb9b21d.chunk.js.map